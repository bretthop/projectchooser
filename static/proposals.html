<html>
<head>
    <link href="/static/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="all">

    <link href="/static/resources/css/main.css" rel="stylesheet" media="all">
</head>
<body>
    <div class="container-fluid">
        <h1 class="inline-block">Project Chooser</h1>
        <div class="row-fluid">
            <div class="span2">
                <div class="backerTmpl-rendered alert alert-info minHeight500"></div>
            </div>
            <div class="span10">
                <h3>[CURRENT DOMAIN]</h3>

                <span class="ajax-loader mainOffset inline-block hidden"></span>

                <button class="btn addProposalBtn alignButtonTop" onclick="location='/'">
                    <i class="icon-arrow-left"></i>
                    Back to Domains
                </button>

                <button class="btn addProposalBtn alignButtonTop" onclick="showAddProposalModal()">
                    <i class="icon-plus"></i>
                    Add Proposal
                </button>

                <button class="btn btn-success alignButtonTop loginBtn" onclick="showLoginModal()">
                    <i class="icon-user"></i>
                    Login
                </button>

                <br>

                <p>Below you can see a list of existing proposals for the current domain. You can support on any one you like, or add your own</p>

                <div class="proposalsTmpl-rendered inline-block"></div>

                <!-- Add Proposal Modal -->
                <div id="addProposalModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="addProposalLabel" aria-hidden="true">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                        <h3 id="addProposalLabel">Add Proposal</h3>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="control-group">
                                <label class="control-label" for="domainId">Domain</label>
                                <div class="controls">
                                    <input type="text" name="domainId" id="domainId" placeholder="Domain ID" class="required" readonly="readonly" />
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="name">Name</label>
                                <div class="controls">
                                    <input type="text" name="name" id="name" placeholder="Name" class="required" />
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="description">Description</label>
                                <div class="controls">
                                    <input type="text" name="description" id="description" placeholder="Description" class="required" />
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="technologiesUsed">Technologies Used</label>
                                <div class="controls">
                                    <input type="text" name="technologiesUsed" id="technologiesUsed" placeholder="Technologies Used" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                        <button class="btn btn-primary" onclick="handleAddProposalClick()">Add</button>
                    </div>
                </div>

                <!-- Login Modal -->
                <!-- TODO: Move this to a separate template file -->
                <div id="loginModal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="loginLabel" aria-hidden="true">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                        <h3 id="loginLabel">Please Login to Continue</h3>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal">
                            <div class="control-group">
                                <label class="control-label" for="username">Username</label>
                                <div class="controls">
                                    <input type="text" name="username" id="username" placeholder="Username" class="required" />
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label" for="password">Password</label>
                                <div class="controls">
                                    <input type="password" name="password" id="password" placeholder="Password" class="required" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <span class="ajax-loader inline-block hidden"></span>
                        <span class="loginResult hidden"></span>
                        <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                        <button class="btn btn-primary" onclick="handleLoginClick()">Add</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="footer">
                <small>Project Chooser - Choose your projects!! A simple app using Google's App Engine framework.</small>
            </div>
        </div>
    </div>

    <!-- Utils -->
    <script src="/static/resources/js/ajax-utils.js"></script>
    <script src="/static/resources/js/tmpl-fetcher.js"></script>

    <!-- Libs -->
    <script src="/static/resources/js/lib/underscore.js"></script>
    <script src="/static/resources/js/lib/jquery-1.8.2.min.js"></script>
    <script src="/static/resources/js/lib/jquery.validate.js"></script>
    <script src="/static/resources/bootstrap/js/bootstrap.min.js"></script>

    <!-- Application Logic -->
    <script src="/static/resources/js/session.js"></script>
    <script src="/static/resources/js/frontend.js"></script>
    <script src="/static/resources/js/api-functions.js"></script>

    <!-- Kick things off -->
    <script type="text/javascript">
        loadProposals();
    </script>
</body>
</html>