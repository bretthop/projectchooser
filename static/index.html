<html>
<head>
    <link href="/static/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="all">
    <link href="/static/resources/css/jquery-ui.css" rel="stylesheet" media="all">

    <link href="/static/resources/css/main.css" rel="stylesheet" media="all">
</head>
<body>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span2">
                <div class="backerTmpl-rendered alert alert-info minHeight500"></div>
            </div>
            <div class="span10">
                <h1 class="inline-block">Project Chooser</h1>
                <span class="ajax-loader inline-block hidden"></span>

                <button class="btn addProposalBtn" onclick="showAddProposalModal()">
                    <i class="icon-plus"></i>
                    Add Proposal
                </button>
                <br>
                <p>Below you can see a list of existing proposals for the current domain. You can support on any one you like, or add your own</p>

                <div class="proposalsTmpl-rendered"></div>

                <div class="addProposalForm" title="Add Proposal">
                    <form>
                        <input type="text" name="name" id="name" placeholder="Name" class="required" />
                        <br />

                        <input type="text" name="description" id="description" placeholder="Description" class="required" />
                        <br />

                        <input type="text" name="technologiesUsed" id="technologiesUsed" placeholder="Technologies Used" />
                        <br />
                    </form>
                </div>

                <div class="footer">
                    <small>Project Chooser - Choose your projects!! A simple app using Google's App Engine framework.</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Utils -->
    <script src="/static/resources/js/ajax-utils.js"></script>
    <script src="/static/resources/js/tmpl-fetcher.js"></script>

    <!-- Libs -->
    <script src="/static/resources/js/lib/underscore.js"></script>
    <script src="/static/resources/js/lib/jquery-1.8.2.min.js"></script>
    <script src="/static/resources/js/lib/jquery-ui-1.10.0.min.js"></script>
    <script src="/static/resources/js/lib/jquery.validate.js"></script>
    <script src="/static/resources/bootstrap/js/bootstrap.min.js"></script>

    <!-- Application Logic -->
    <script src="/static/resources/js/frontend.js"></script>
    <script src="/static/resources/js/api-functions.js"></script>
    <script type="text/javascript">
        var addProposalValidator = $("form").validate({
            errorPlacement: function(error, element) {
                return true;
            }
        });

        $('.addProposalForm').dialog({
            autoOpen: false,
            height: 265,
            width: 300,
            modal: true,
            buttons: {
                "Add Proposal": function() {
                    var success = addProposal();

                    if (success) {
                        $(this).dialog('close')
                    }
                }
            },
            open: function() {
                addProposalValidator.resetForm();
            },
            close: function() {
                $(this).find('input').val('');
            }
        });
    </script>

    <!-- Kick things off -->
    <script type="text/javascript">
        loadPage();
    </script>
</body>
</html>